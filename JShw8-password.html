<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <title>檢查密碼</title>
</head>

<body>
    <label>Password:</label>
    <input type="password" id="idPwd" />
    <span id="idsp"></span><br />
    <!-- 設定按鈕事件，點擊之後會觸發checkPwd() 函式 -->  
    <input type="button" id="idbut" value="check Password" onclick="checkPwd();" >  
    
    <script>

        function C1(ccc) {     // 設定函式1，會判定輸入的字串至少有8個字元，且含有一個數字＆英文＆特殊字元，全對才回傳true
            if (ccc.length < 8) {
                return false;
            }

            let hasDigit = false;
            let hasLetter = false;
            let hasSpecial = false;

            for (let i = 0; i < ccc.length; i++) {
                let qq= ccc.charAt(i);
                if (/[0-9]/.test(qq)) {
                    hasDigit = true;
                } else if (/[a-zA-Z]/.test(qq)) {
                    hasLetter = true;
                } else {
                    hasSpecial = true;
                }
            }

            return hasDigit && hasLetter && hasSpecial;
        }

        function checkPwd() {       //點擊按鈕觸發函式2，抓取使用者輸入的值並執行函式1，把結果放到span
            const password = document.getElementById("idPwd").value;
            if (C1(password)) {
                document.getElementById("idsp").innerHTML = "格式正確";
            } else {
                document.getElementById("idsp").innerHTML = "格式錯誤";
            }
        }
    </script>
</body>

</html>